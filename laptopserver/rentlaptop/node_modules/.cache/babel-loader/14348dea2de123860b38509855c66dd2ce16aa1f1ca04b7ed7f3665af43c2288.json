{"ast":null,"code":"import{Table}from'react-bootstrap';import axios from'axios';import React,{useState,useEffect}from\"react\";import Button from'react-bootstrap/Button';import Badge from'react-bootstrap/Badge';import{useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LaptopList(){const navigate=useNavigate();const[laptopData,setLaptopData]=useState([]);const[userData,setUserData]=useState([]);const location=useLocation();const modelYear={...location.state.a};console.log(modelYear);useEffect(()=>{axios.all([axios.get('http://localhost:8081/laptopdatabases'),axios.get('http://localhost:8081/userpage')]).then(axios.spread((res1,res2)=>{setLaptopData(res1.data);setUserData(res2.data);})).catch(()=>{console.log('failed');});},[]);const rentBtn=name=>{console.log('노트북명 : ',name);try{if(!userData){window.alert(\"로그인 후 이용가능합니다.\");navigate('/login');}else{navigate('/rent');}}catch(e){console.log('err',e);}};console.log(laptopData);console.log('id : ',userData);//console.log(laptopData[0])\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"tables\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC21C\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-3\",children:\"\\uBB3C\\uD488\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uB300\\uC5EC\\uAC00\\uB2A5\\uC5EC\\uBD80\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uB300\\uC5EC\\uD558\\uAE30\"})]})}),laptopData.map((a,inx)=>modelYear.Model_Year===a.Year?/*#__PURE__*/_jsx(\"tbody\",{className:\"tbody1\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"tr1\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:inx+1}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.name}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.ync_num}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.status==='대여가능'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"badgeCss\",children:\"\\uB300\\uC5EC\\uAC00\\uB2A5\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"badgeCss\",children:\"\\uB300\\uC5EC\\uBD88\\uAC00\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.status==='대여가능'?/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",onClick:()=>rentBtn(a.ync_num),children:\"\\uB300\\uC5EC\\uD558\\uAE30\"}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",disabled:true,children:\"\\uB300\\uC5EC\\uD558\\uAE30\"})})]})},inx):null)]})});}export default LaptopList;","map":{"version":3,"names":["Table","axios","React","useState","useEffect","Button","Badge","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","LaptopList","navigate","laptopData","setLaptopData","userData","setUserData","location","modelYear","state","a","console","log","all","get","then","spread","res1","res2","data","catch","rentBtn","name","window","alert","e","className","children","striped","bordered","hover","class","map","inx","Model_Year","Year","ync_num","status","bg","variant","onClick","disabled"],"sources":["/Users/baemungyu/Documents/Github/server/rentlaptop/src/pages/laptopList.js"],"sourcesContent":["import { Table } from 'react-bootstrap';\nimport axios from 'axios'\nimport React, { useState, useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\n\nfunction LaptopList() {\n  const navigate = useNavigate();\n\n  const [laptopData, setLaptopData] = useState([])\n  const [userData, setUserData] = useState([])\n  const location = useLocation()\n  const modelYear = { ...location.state.a }\n  console.log(modelYear)\n\n  useEffect(() => {\n    axios.all([axios.get('http://localhost:8081/laptopdatabases'), axios.get('http://localhost:8081/userpage')])\n      .then(\n        axios.spread((res1, res2) => {\n          setLaptopData(res1.data)\n          setUserData(res2.data)\n        })\n      ).catch(() => {\n        console.log('failed')\n      })\n  }, [])\n\n  const rentBtn = (name) => {\n    console.log('노트북명 : ', name)\n    try {\n      if (!userData) {\n        window.alert(\"로그인 후 이용가능합니다.\")\n        navigate('/login')\n      }\n      else {\n        navigate('/rent')\n      }\n    } catch (e) {\n      console.log('err', e)\n    }\n  }\n\n  console.log(laptopData)\n  console.log('id : ', userData)\n  //console.log(laptopData[0])\n\n  return (\n    <div className=\"tables\">\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th class=\"col-md-1\">순번</th>\n            <th class=\"col-md-1\">상품명</th>\n            <th class=\"col-md-3\">물품번호</th>\n            <th class=\"col-md-1\">대여가능여부</th>\n            <th class=\"col-md-1\">대여하기</th>\n          </tr>\n        </thead>\n        {\n          laptopData.map((a, inx) => (\n            modelYear.Model_Year === a.Year\n              ?\n              <tbody key={inx} className='tbody1'>\n                <tr className='tr1'>\n                  <td className='td1'>{inx + 1}</td>\n                  <td className='td1'>{a.name}</td>\n                  <td className='td1'>{a.ync_num}</td>\n                  <td className='td1'>\n                    {\n                      a.status === '대여가능'\n                        ? <Badge bg=\"success\" className=\"badgeCss\">\n                          대여가능\n                        </Badge>\n                        : <Badge bg=\"danger\" className='badgeCss'>\n                          대여불가\n                        </Badge>\n                    }\n                  </td>\n                  <td className='td1'>\n                    {\n                      a.status === '대여가능'\n                        ? <Button variant=\"primary\" className=\"btnCss1\" onClick={() => rentBtn(a.ync_num)}>\n                          대여하기 \n                        </Button>\n                        : <Button variant=\"primary\" className=\"btnCss1\" disabled>\n                          대여하기\n                        </Button>\n                    }\n                  </td>\n                </tr>\n              </tbody>\n              : null\n          ))}\n      </Table>\n    </div>\n  )\n}\n\nexport default LaptopList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}