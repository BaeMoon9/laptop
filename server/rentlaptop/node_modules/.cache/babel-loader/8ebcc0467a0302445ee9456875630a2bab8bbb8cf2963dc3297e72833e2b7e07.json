{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';import Button from'react-bootstrap/Button';import{Table}from'react-bootstrap';import{useNavigate}from\"react-router-dom\";import Navbarpage from\"./navpage.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyPage(){const navigate=useNavigate();const[userData,setUserData]=useState([]);const[userRented,setUserRented]=useState([]);const logoutBtn=()=>{axios.get('http://221.142.94.196:8081/logout').catch(()=>{console.log(\"failed\");});navigate('/',{replace:true});window.location.reload();//page reload 새로고침 안하니까 mainpage navbar에 아이디가 계속떠있네;;\n};useEffect(()=>{axios.all([axios.get('http://221.142.94.196:8081/userpage'),axios.get('http://221.142.94.196:8081/userrented')]).then(axios.spread((res1,res2)=>{setUserData(res1.data);setUserRented(res2.data[0]);})).catch(()=>{console.log('failed');});},[]);// console.log('id : ', userData.id)\n// console.log('userRented : ', userRented)\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbarpage,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-account\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Mypage\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-id\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"ID\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"usr-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:userData.id})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-pw\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"PW\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:\"********\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-email\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Name\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:userData.username}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-email\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"PhoneNum\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"usr-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-email\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Logout\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"usr-content\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btnCss1\",onClick:logoutBtn,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rentlist\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB300\\uC5EC\\uBAA9\\uB85D\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC21C\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-3\",children:\"\\uBB3C\\uD488\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uD559\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC774\\uB984\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:!userRented?/*#__PURE__*/_jsx(\"tr\",{}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:userRented.name}),/*#__PURE__*/_jsx(\"td\",{children:userRented.ync_num}),/*#__PURE__*/_jsx(\"td\",{children:userRented.rent_student_id}),/*#__PURE__*/_jsx(\"td\",{children:userRented.rent_name})]})})]})})]})]});}export default MyPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Button","Table","useNavigate","Navbarpage","jsx","_jsx","jsxs","_jsxs","MyPage","navigate","userData","setUserData","userRented","setUserRented","logoutBtn","get","catch","console","log","replace","window","location","reload","all","then","spread","res1","res2","data","children","className","id","variant","username","onClick","striped","bordered","hover","class","name","ync_num","rent_student_id","rent_name"],"sources":["/home/py4B/Documents/Github/laptop/server/rentlaptop/src/pages/mypage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios'\nimport Button from 'react-bootstrap/Button';\nimport { Table } from 'react-bootstrap';\nimport { useNavigate } from \"react-router-dom\";\nimport Navbarpage from \"./navpage.js\";\n\nfunction MyPage() {\n\tconst navigate = useNavigate();\n\n\tconst [userData, setUserData] = useState([])\n\tconst [userRented, setUserRented] = useState([])\n\tconst logoutBtn = () => {\n\t\taxios.get('http://221.142.94.196:8081/logout')\n\t\t\t.catch(() => {\n\t\t\t\tconsole.log(\"failed\")\n\t\t\t})\n\t\tnavigate('/', { replace: true })\n\t\twindow.location.reload(); //page reload 새로고침 안하니까 mainpage navbar에 아이디가 계속떠있네;;\n\t}\n\n\tuseEffect(() => {\n\t\taxios.all([axios.get('http://221.142.94.196:8081/userpage'), axios.get('http://221.142.94.196:8081/userrented'),])\n\t\t\t.then(\n\t\t\t\taxios.spread((res1, res2) => {\n\t\t\t\t\tsetUserData(res1.data)\n\t\t\t\t\tsetUserRented(res2.data[0])\n\t\t\t\t})\n\t\t\t).catch(() => {\n\t\t\t\tconsole.log('failed')\n\t\t\t})\n\t}, [])\n\t// console.log('id : ', userData.id)\n\t// console.log('userRented : ', userRented)\n\n\treturn (\n\t\t<div>\n\t\t\t<Navbarpage />\n\t\t\t<div className=\"mypage\">\n\t\t\t\t<div className=\"userinfo\">\n\t\t\t\t\t<div className=\"usr-account\">\n\t\t\t\t\t\t<h3>Mypage</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"usr-id\">\n\t\t\t\t\t\t<div className=\"usr-title\">\n\t\t\t\t\t\t\t<h4>ID</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"usr-content\">\n\t\t\t\t\t\t\t<div className=\"usr-content-data\">{userData.id}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"usr-pw\">\n\t\t\t\t\t\t<div className=\"usr-title\">\n\t\t\t\t\t\t\t<h4>PW</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"usr-content\">\n\t\t\t\t\t\t\t<div className=\"usr-content-data\">********</div>\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"btnCss1\">\n\t\t\t\t\t\t\t\t변경하기\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"usr-email\">\n\t\t\t\t\t\t<div className=\"usr-title\">\n\t\t\t\t\t\t\t<h4>Name</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"usr-content\">\n\t\t\t\t\t\t\t<div className=\"usr-content-data\">{userData.username}</div>\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"btnCss1\">\n\t\t\t\t\t\t\t\t변경하기\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"usr-email\">\n\t\t\t\t\t\t<div className=\"usr-title\">\n\t\t\t\t\t\t\t<h4>PhoneNum</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"usr-content\">\n\t\t\t\t\t\t\t<div className=\"usr-content-data\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"usr-email\">\n\t\t\t\t\t\t<div className=\"usr-title\">\n\t\t\t\t\t\t\t<h4>Logout</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"usr-content\">\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"btnCss1\" onClick={logoutBtn}>\n\t\t\t\t\t\t\t\t로그아웃\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr className=\"divider\" />\n\t\t\t\t<div className=\"rentlist\">\n\t\t\t\t\t<h3>대여목록</h3>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th class=\"col-md-1\">순번</th>\n\t\t\t\t\t\t\t\t<th class=\"col-md-1\">상품명</th>\n\t\t\t\t\t\t\t\t<th class=\"col-md-3\">물품번호</th>\n\t\t\t\t\t\t\t\t<th class=\"col-md-1\">학번</th>\n\t\t\t\t\t\t\t\t<th class=\"col-md-1\">이름</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t!userRented\n\t\t\t\t\t\t\t\t\t? <tr></tr>\n\t\t\t\t\t\t\t\t\t: <tr>\n\t\t\t\t\t\t\t\t\t\t<td>1</td>\n\t\t\t\t\t\t\t\t\t\t<td>{userRented.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{userRented.ync_num}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{userRented.rent_student_id}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{userRented.rent_name}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tbody>\n\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default MyPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}