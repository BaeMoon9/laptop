{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';import Button from'react-bootstrap/Button';import{Table}from'react-bootstrap';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyPage(){const navigate=useNavigate();const[userData,setUserData]=useState([]);const[userRented,setUserRented]=useState([]);const logoutBtn=()=>{axios.get('http://localhost:8081/logout').then(result=>{navigate('/',{replace:true});window.location.reload();//page reload 새로고침 안하니까 mainpage navbar에 아이디가 계속떠있네;;\n}).catch(()=>{console.log(\"failed\");});// fetch('http://localhost:8081/logout', {method : \"POST\"}).catch(() => {\n//   console.log('failed')\n// })\n};useEffect(()=>{axios.all([axios.get('http://localhost:8081/userpage'),axios.get('http://localhost:8081/userrented')]).then(axios.spread((res1,res2)=>{setUserData(res1.data);setUserRented(res2.data[0]);})).catch(()=>{console.log('failed');});},[]);console.log('id : ',userData.id);console.log(userRented);return/*#__PURE__*/_jsxs(\"div\",{className:\"mypage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-account\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Mypage\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-id\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"ID\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"usr-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:userData.id})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-pw\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"PW\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:\"********\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-email\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Name\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-content-data\",children:userData.username}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"usr-email\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"usr-title\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Logout\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"usr-content\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btnCss1\",onClick:logoutBtn,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rentlist\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB300\\uC5EC\\uBAA9\\uB85D\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC21C\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-3\",children:\"\\uBB3C\\uD488\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uD559\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC774\\uB984\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:userRented.name}),/*#__PURE__*/_jsx(\"td\",{children:userRented.ync_num}),/*#__PURE__*/_jsx(\"td\",{children:userRented.rent_student_id}),/*#__PURE__*/_jsx(\"td\",{children:userRented.rent_name})]})})]})})]});}export default MyPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Button","Table","useNavigate","jsx","_jsx","jsxs","_jsxs","MyPage","navigate","userData","setUserData","userRented","setUserRented","logoutBtn","get","then","result","replace","window","location","reload","catch","console","log","all","spread","res1","res2","data","id","className","children","variant","username","onClick","striped","bordered","hover","class","name","ync_num","rent_student_id","rent_name"],"sources":["/Users/baemungyu/Documents/Github/server/rentlaptop/src/pages/mypage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios'\nimport Button from 'react-bootstrap/Button';\nimport { Table } from 'react-bootstrap';\nimport { useNavigate } from \"react-router-dom\";\n\nfunction MyPage() {\n  const navigate = useNavigate();\n\n  const [userData, setUserData] = useState([])\n  const [userRented, setUserRented] = useState([])\n  const logoutBtn = () => {\n    axios.get('http://localhost:8081/logout').then((result) => {\n      navigate('/', {replace: true})\n      window.location.reload(); //page reload 새로고침 안하니까 mainpage navbar에 아이디가 계속떠있네;;\n    })\n    .catch(() => {\n      console.log(\"failed\")\n    })\n\n    // fetch('http://localhost:8081/logout', {method : \"POST\"}).catch(() => {\n    //   console.log('failed')\n    // })\n  }\n\n  useEffect(() => {\n    axios.all([axios.get('http://localhost:8081/userpage'), axios.get('http://localhost:8081/userrented'),])\n    .then(\n      axios.spread((res1, res2) => {\n        setUserData(res1.data)\n        setUserRented(res2.data[0])\n      })\n    ).catch(() => {\n      console.log('failed')\n    })\n  }, [])\n\n  console.log('id : ', userData.id)\n  console.log(userRented)\n\n  return (\n    <div className=\"mypage\">\n      <div className=\"userinfo\">\n        <div className=\"usr-account\">\n          <h3>Mypage</h3>\n        </div>\n        <div className=\"usr-id\">\n          <div className=\"usr-title\">\n            <h4>ID</h4>\n          </div>\n          <div className=\"usr-content\">\n            <div className=\"usr-content-data\">{userData.id}</div>\n          </div>\n        </div>\n        <div className=\"usr-pw\">\n          <div className=\"usr-title\">\n            <h4>PW</h4>\n          </div>\n          <div className=\"usr-content\">\n            <div className=\"usr-content-data\">********</div>\n            <Button variant=\"primary\" className=\"btnCss1\">\n              변경하기\n            </Button>\n          </div>\n        </div>\n        <div className=\"usr-email\">\n          <div className=\"usr-title\">\n            <h4>Name</h4>\n          </div>\n          <div className=\"usr-content\">\n            <div className=\"usr-content-data\">{userData.username}</div>\n            <Button variant=\"primary\" className=\"btnCss1\">\n              변경하기\n            </Button>\n          </div>\n        </div>\n        <div className=\"usr-email\">\n          <div className=\"usr-title\">\n            <h4>Logout</h4>\n          </div>\n          <div className=\"usr-content\">\n            <Button variant=\"danger\" className=\"btnCss1\" onClick={logoutBtn}>\n              로그아웃\n            </Button>\n          </div>\n        </div>\n      </div>\n      <hr className=\"divider\" />\n      <div className=\"rentlist\">\n        <h3>대여목록</h3>\n      </div>\n      <div>\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <th class=\"col-md-1\">순번</th>\n              <th class=\"col-md-1\">상품명</th>\n              <th class=\"col-md-3\">물품번호</th>\n              <th class=\"col-md-1\">학번</th>\n              <th class=\"col-md-1\">이름</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr>\n              <td>1</td>\n              <td>{userRented.name}</td>\n              <td>{userRented.ync_num}</td>\n              <td>{userRented.rent_student_id}</td>\n              <td>{userRented.rent_name}</td>\n            </tr>\n          </tbody>\n\n        </Table>\n      </div>\n    </div>\n  )\n}\n\nexport default MyPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}