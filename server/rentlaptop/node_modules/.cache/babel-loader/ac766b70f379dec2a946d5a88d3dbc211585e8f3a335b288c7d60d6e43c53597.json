{"ast":null,"code":"import{Table}from'react-bootstrap';import axios from'axios';import React,{useState,useEffect}from\"react\";import Button from'react-bootstrap/Button';import Badge from'react-bootstrap/Badge';import{useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LaptopList(){const navigate=useNavigate();const[laptopData,setLaptopData]=useState([]);const[userData,setUserData]=useState([]);const location=useLocation();const modelYear={...location.state.a};console.log('laptopdata',laptopData);console.log('modelyear',modelYear);useEffect(()=>{axios.all([axios.get('http://localhost:8081/laptopdatabases'),axios.get('http://localhost:8081/userpage')]).then(axios.spread((res1,res2)=>{setLaptopData(res1.data);setUserData(res2.data);})).catch(()=>{console.log('failed');});},[]);const rentBtn=_ref=>{let[laptop]=_ref;try{if(!userData){window.alert(\"로그인 후 이용가능합니다.\");navigate('/login');}else if(userData.id===\"guest\"){//게스트로그인시 신청화면에서 개인정보 입력하는 다른페이지로 이동하기\nconsole.log('guset logined');navigate('/guestrent',{state:{laptop}});}else{navigate('/rent',{state:{laptop}});}}catch(e){console.log('err',e);}};//console.log('userdata', userData)\nconsole.log(' modelYear.Model_Year',modelYear.Model_Year);console.log('laptopData',laptopData.filter(a=>a.Year===modelYear.Model_Year));//console.log('modelyear, laptopyear', modelYear.Model_Year === laptopData.Year)\nreturn/*#__PURE__*/_jsx(\"div\",{children:laptopData.filter(a=>a.Year===modelYear.Model_Year)?/*#__PURE__*/_jsx(\"div\",{className:\"tables\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC21C\\uBC88\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-2\",children:\"\\uBB3C\\uD488\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uB300\\uC5EC\\uAC00\\uB2A5\\uC5EC\\uBD80\"}),/*#__PURE__*/_jsx(\"th\",{class:\"col-md-1\",children:\"\\uB300\\uC5EC\\uD558\\uAE30\"})]})}),laptopData.filter(a=>a.Year===modelYear.Model_Year).map((a,inx)=>/*#__PURE__*/_jsx(\"tbody\",{className:\"tbody1\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"tr1\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:inx+1}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.name}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.ync_num}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.status==='대여가능'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"badgeCss\",children:\"\\uB300\\uC5EC\\uAC00\\uB2A5\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"badgeCss\",children:\"\\uB300\\uC5EC\\uBD88\\uAC00\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"td1\",children:a.status==='대여가능'?/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",onClick:()=>rentBtn([a]),children:\"\\uB300\\uC5EC\\uD558\\uAE30\"}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btnCss1\",disabled:true,children:\"\\uB300\\uC5EC\\uD558\\uAE30\"})})]})},inx))]})}):/*#__PURE__*/_jsx(\"div\",{className:\"tables\",children:/*#__PURE__*/_jsx(\"div\",{children:\"\\uB178\\uD2B8\\uBD81 \\uC900\\uBE44\\uC911,,,\"})})});}export default LaptopList;","map":{"version":3,"names":["Table","axios","React","useState","useEffect","Button","Badge","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","LaptopList","navigate","laptopData","setLaptopData","userData","setUserData","location","modelYear","state","a","console","log","all","get","then","spread","res1","res2","data","catch","rentBtn","_ref","laptop","window","alert","id","e","Model_Year","filter","Year","children","className","striped","bordered","hover","class","map","inx","name","ync_num","status","bg","variant","onClick","disabled"],"sources":["/Users/baemungyu/Documents/Github/bae/laptop/server/rentlaptop/src/pages/laptopList.js"],"sourcesContent":["import { Table } from 'react-bootstrap';\nimport axios from 'axios'\nimport React, { useState, useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\n\nfunction LaptopList() {\n\tconst navigate = useNavigate();\n\n\tconst [laptopData, setLaptopData] = useState([])\n\tconst [userData, setUserData] = useState([])\n\tconst location = useLocation()\n\tconst modelYear = { ...location.state.a }\n\t console.log('laptopdata', laptopData)\n\t console.log('modelyear', modelYear)\n\n\tuseEffect(() => {\n\t\taxios.all([axios.get('http://localhost:8081/laptopdatabases'), axios.get('http://localhost:8081/userpage')])\n\t\t\t.then(\n\t\t\t\taxios.spread((res1, res2) => {\n\t\t\t\t\tsetLaptopData(res1.data)\n\t\t\t\t\tsetUserData(res2.data)\n\t\t\t\t})\n\t\t\t).catch(() => {\n\t\t\t\tconsole.log('failed')\n\t\t\t})\n\t}, [])\n\n\tconst rentBtn = ([laptop]) => {\n\t\ttry {\n\t\t\tif (!userData) {\n\t\t\t\twindow.alert(\"로그인 후 이용가능합니다.\")\n\t\t\t\tnavigate('/login')\n\t\t\t}\n\t\t\telse if (userData.id === \"guest\") { //게스트로그인시 신청화면에서 개인정보 입력하는 다른페이지로 이동하기\n\t\t\t\tconsole.log('guset logined')\n\t\t\t\tnavigate('/guestrent', { state: { laptop } })\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnavigate('/rent', { state: { laptop } })\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('err', e)\n\t\t}\n\t}\n\n\t//console.log('userdata', userData)\n\tconsole.log(' modelYear.Model_Year',  modelYear.Model_Year)\n\tconsole.log('laptopData', laptopData.filter((a) => a.Year === modelYear.Model_Year))\n\t//console.log('modelyear, laptopyear', modelYear.Model_Year === laptopData.Year)\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tlaptopData.filter((a) => a.Year === modelYear.Model_Year)\n\t\t\t\t? \n\t\t\t\t<div className=\"tables\">\n\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th class=\"col-md-1\">순번</th>\n\t\t\t\t\t\t\t<th class=\"col-md-1\">상품명</th>\n\t\t\t\t\t\t\t<th class=\"col-md-2\">물품번호</th>\n\t\t\t\t\t\t\t<th class=\"col-md-1\">대여가능여부</th>\n\t\t\t\t\t\t\t<th class=\"col-md-1\">대여하기</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t{\n\t\t\t\t\t\tlaptopData\n\t\t\t\t\t\t.filter((a) => a.Year === modelYear.Model_Year)\n\t\t\t\t\t\t.map((a, inx) => (\n\t\t\t\t\t\t\t\t<tbody key={inx} className='tbody1'>\n\t\t\t\t\t\t\t\t\t<tr className='tr1'>\n\t\t\t\t\t\t\t\t\t\t<td className='td1'>{inx + 1}</td>\n\t\t\t\t\t\t\t\t\t\t<td className='td1'>{a.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td className='td1'>{a.ync_num}</td>\n\t\t\t\t\t\t\t\t\t\t<td className='td1'>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ta.status === '대여가능'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <Badge bg=\"success\" className=\"badgeCss\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t대여가능\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <Badge bg=\"danger\" className='badgeCss'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t대여불가\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className='td1'>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ta.status === '대여가능'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <Button variant=\"primary\" className=\"btnCss1\" onClick={() => rentBtn([a])}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t대여하기\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <Button variant=\"primary\" className=\"btnCss1\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t대여하기\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t))}\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<div className=\"tables\">\n\t\t\t\t\t<div>노트북 준비중,,,</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default LaptopList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}